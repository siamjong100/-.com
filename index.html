<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>রক্তদাতা ট্র্যাকার</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Google/Noto Sans Bengali fallback (online) -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bangla:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="topbar">
    <div class="brand">রক্তদাতা ট্র্যাকার</div>
    <div class="actions">
      <button id="btnExport" title="Export (JSON/CSV)">Export</button>
      <button id="btnImport" title="Import JSON">Import</button>
      <button id="btnSettings" title="Settings">Settings</button>
      <button id="btnAdd" class="primary">নতুন প্রোফাইল</button>
    </div>
  </header>

  <main class="container">
    <!-- Dashboard summary -->
    <section class="dashboard">
      <div class="card">
        <div class="card-title">মোট প্রোফাইল</div>
        <div id="totalProfiles" class="card-value">0</div>
      </div>
      <div class="card">
        <div class="card-title">আজকে যোগ্য</div>
        <div id="eligibleToday" class="card-value">0</div>
      </div>
      <div class="card">
        <div class="card-title">শীঘ্রই যোগ্য (৭ দিন)</div>
        <div id="upcoming7" class="card-value">0</div>
      </div>
    </section>

    <!-- Search & Filters -->
    <section class="controls">
      <input id="searchInput" type="search" placeholder="নাম দিয়ে সার্চ করুন..." aria-label="সার্চ নাম">
      <select id="filterGroup" aria-label="রক্ত গ্রুপ ফিল্টার">
        <option value="all">সব রক্ত গ্রুপ</option>
        <option value="A+">A+</option>
        <option value="A-">A-</option>
        <option value="B+">B+</option>
        <option value="B-">B-</option>
        <option value="O+">O+</option>
        <option value="O-">O-</option>
        <option value="AB+">AB+</option>
        <option value="AB-">AB-</option>
      </select>
      <select id="filterEligibility" aria-label="যোগ্যতা ফিল্টার">
        <option value="all">সকল প্রোফাইল</option>
        <option value="eligibleToday">আজকে যোগ্য</option>
        <option value="next7">আগামী ৭ দিনের মধ্যে যোগ্য</option>
        <option value="next30">আগামী ৩০ দিনের মধ্যে</option>
        <option value="notEligible">অযোগ্য / বেশি দিন বাকি</option>
      </select>
      <button id="btnFastDonate">আজ দান করলাম (+)</button>
    </section>

    <!-- Profiles List -->
    <section id="profilesList" class="profiles-list" aria-live="polite">
      <!-- profile cards injected here -->
    </section>
  </main>

  <!-- Add/Edit Profile Modal -->
  <div id="modalOverlay" class="modal-overlay hidden" role="dialog" aria-modal="true">
    <div class="modal">
      <h2 id="modalTitle">নতুন প্রোফাইল</h2>
      <form id="profileForm">
        <label>নাম <input name="name" type="text" required /></label>
        <label>বয়স <input name="age" type="number" min="0" required /></label>
        <label>রক্তগ্রুপ
          <select name="bloodGroup" required>
            <option value="">বেছে নিন</option>
            <option value="A+">A+</option><option value="A-">A-</option>
            <option value="B+">B+</option><option value="B-">B-</option>
            <option value="O+">O+</option><option value="O-">O-</option>
            <option value="AB+">AB+</option><option value="AB-">AB-</option>
          </select>
        </label>
        <label>ফোন (ঐচ্ছিক) <input name="phone" type="tel" /></label>
        <label>সাম্প্রতিক ডোনেশন তারিখ (ঐচ্ছিক) <input name="recentDonation" type="date" /></label>
        <label>নোটস <textarea name="notes" rows="2"></textarea></label>

        <div class="modal-actions">
          <button type="submit" class="primary">সেভ</button>
          <button type="button" id="btnCancel">বাতিল</button>
        </div>
        <input type="hidden" name="id" />
      </form>
    </div>
  </div>

  <!-- Profile Detail Modal -->
  <div id="detailOverlay" class="modal-overlay hidden" role="dialog" aria-modal="true">
    <div class="modal detail-modal">
      <button id="closeDetail" class="close-btn" aria-label="বন্ধ">✕</button>
      <div id="detailContent"><!-- injected --></div>
    </div>
  </div>

  <!-- Hidden file input for import -->
  <input type="file" id="importFile" accept="application/json" style="display:none" />

  <!-- Settings Modal -->
  <div id="settingsOverlay" class="modal-overlay hidden" role="dialog" aria-modal="true">
    <div class="modal">
      <h2>সেটিংস</h2>
      <form id="settingsForm">
        <label>ডোনেশন ইন্টারভাল (দিন) <input id="intervalDays" name="intervalDays" type="number" min="1" value="90" required /></label>
        <label>ভাষা <select id="locale" name="locale"><option value="bn">বাংলা</option><option value="en">English</option></select></label>
        <label>থিম <select id="themeSelect" name="theme"><option value="light">Light</option><option value="dark">Dark</option></select></label>
        <div class="modal-actions">
          <button type="submit" class="primary">সেভ</button>
          <button type="button" id="closeSettings">বাতিল</button>
        </div>
      </form>
    </div>
  </div>

  <footer class="footer">
    <small>স্থানীয় ডেটা: localStorage — সংবেদনশীল তথ্য সাবধানে রাখুন।</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
